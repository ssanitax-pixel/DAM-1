<!doctype html>
<html>
  <head>
    <style>
      body{
        background-color: red;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }
      canvas{
        background: white;
        transform: rotate(45deg);
      }
    </style>
  </head>
  <body>
    <canvas></canvas>

    <script>
      let temporizador = setTimeout(bucle,1000);
      let lienzo = document.querySelector("canvas");
      lienzo.width = 512;
      lienzo.height = 512;
      let contexto = lienzo.getContext("2d");
      contexto.lineCap = "round";

      function bucle(){
        let fecha = new Date();

        let hora = fecha.getHours();
        let minuto = fecha.getMinutes();
        let segundo = fecha.getSeconds();

        contexto.clearRect(0,0,512,512);

        // Manecilla horas
        contexto.lineWidth = 45;
        contexto.strokeStyle = "blue";
        let angulo_hora = hora*(Math.PI*2/12)-Math.PI/2;
        contexto.beginPath();
        contexto.moveTo(256,256);
        contexto.lineTo(
          256+Math.cos(angulo_hora)*100,
          256+Math.sin(angulo_hora)*100
        );
        contexto.stroke();

        // Manecilla minutos
        contexto.lineWidth = 25;
        contexto.strokeStyle = "green";
        let angulo_minuto = minuto*(Math.PI*2/60)-Math.PI/2;
        contexto.beginPath();
        contexto.moveTo(256,256);
        contexto.lineTo(
          256+Math.cos(angulo_minuto)*150,
          256+Math.sin(angulo_minuto)*150
        );
        contexto.stroke();

        // Manecilla segundos
        contexto.lineWidth = 5;
        contexto.strokeStyle = "red";
        let angulo_segundo = segundo*(Math.PI*2/60)-Math.PI/2;
        contexto.beginPath();
        contexto.moveTo(256,256);
        contexto.lineTo(
          256+Math.cos(angulo_segundo)*200,
          256+Math.sin(angulo_segundo)*200
        );
        contexto.stroke();

        // Centro
        contexto.beginPath();
        contexto.arc(256,256,50,0,Math.PI*2);
        contexto.fill();

        // Borde
        contexto.lineWidth = 25;
        contexto.strokeStyle = "black";
        contexto.beginPath();
        contexto.arc(256,256,200,0,Math.PI*2);
        contexto.stroke();

        clearTimeout(temporizador);
        temporizador = setTimeout(bucle,1000);
      }
    </script>
  </body>
</html>

