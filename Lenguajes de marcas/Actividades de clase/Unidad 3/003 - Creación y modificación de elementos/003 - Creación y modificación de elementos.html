<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Panel de Gestión - DAM-1</title>
    <style>
        /* Estructura base inspirada en vuestro estilo de diseño */
        html, body { height: 100%; padding: 0px; margin: 0px; display: flex; width: 100%; font-family: Arial, sans-serif; }
        nav { background: RebeccaPurple; flex: 1; color: white; padding: 20px; display: flex; flex-direction: column; gap: 20px; }
        main { flex: 4; background: MediumPurple; padding: 20px; overflow-y: auto; }

        /* Estilo de interactividad para los botones */
        nav button { border: none; background: white; color: indigo; padding: 15px; text-transform: uppercase; cursor: pointer; transition: 0.3s; }
        nav button:hover { background: #e0e0e0; transform: scale(1.02); }

        /* Diseño de la tabla con bordes y colores específicos */
        table { border: 3px solid orchid; border-collapse: collapse; background: white; width: 100%; margin-top: 20px; }
        table tr:first-child { background: mediumorchid; color: white; }
        table tr td { padding: 12px; border: 1px solid orchid; text-align: center; }
    </style>
</head>
<body>
    <nav id="menu_navegacion">ssanitax | panel</nav>
    <main id="area_contenido">Contenido del panel de administración</main>

    <script>
        // Primer paso: Carga dinámica del menú desde botones.json
        fetch("botones.json")
        .then(function(respuesta){
            return respuesta.json(); // Transformamos la respuesta en objeto usable
        })
        .then(function(datos){
            let contenedorMenu = document.querySelector("#menu_navegacion");
            
            datos.forEach(function(nombre_boton){
                // Creamos el botón dinámicamente
                let boton = document.createElement("button");
                boton.textContent = nombre_boton;
                
                // Asignamos el evento click solicitado
                boton.onclick = function(){
                    console.log("Cargando sección: " + nombre_boton);
                    ejecutarCargaTabla();
                };
                
                contenedorMenu.appendChild(boton);
            });
        });

        // Segundo paso: Función para generar la tabla de datos
        function ejecutarCargaTabla() {
            fetch("tabla.json")
            .then(function(respuesta){
                return respuesta.json();
            })
            .then(function(datos_tabla){
                let contenedorMain = document.querySelector("#area_contenido");
                contenedorMain.innerHTML = "<h3>Vista de Datos Actualizada</h3>"; // Limpiamos pantalla
                
                let tabla = document.createElement("table");
                
                // Construcción de filas y celdas
                datos_tabla.forEach(function(linea){
                    let fila = document.createElement("tr");
                    
                    linea.forEach(function(celda_info){
                        let celda = document.createElement("td");
                        celda.textContent = celda_info;
                        fila.appendChild(celda);
                    });
                    
                    tabla.appendChild(fila);
                });
                
                contenedorMain.appendChild(tabla);
            });
        }
    </script>
</body>
</html>
